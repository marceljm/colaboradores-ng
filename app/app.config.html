<p-growl [value]="msgs"></p-growl>

<p-tabView orientation="left">
    <p-tabPanel header="Administrador">
        <p-dataTable [value]="tblColabAdminList">
            <header style="text-align:right">
                <button type="text" (click)="showDialogAdmin()" pButton icon="fa-plus" label="Novo"></button>
            </header>
            <p-column field="snomatrcompl" header="Matrícula"></p-column>
            <p-column field="nflativo" header="Status" styleClass="col-button">
                <template let-tblColabAdmin="rowData" pTemplate type="body">
                    <p-inputSwitch onLabel="ativo" offLabel="inativo" (click)="selectAdmin(tblColabAdmin)" [(ngModel)]="tblColabAdmin.ativo"></p-inputSwitch>
                </template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
    <p-tabPanel header="Cargo">
        <p-dataTable [value]="tblColabCargoList">
            <header style="text-align:right">
                <button type="text" (click)="showDialogCargo()" pButton icon="fa-plus" label="Novo"></button>
            </header>
            <p-column field="sdccargo" header="Cargo"></p-column>
            <p-column field="nflativo" header="Status" styleClass="col-button">
                <template let-tblColabCargo="rowData" pTemplate type="body">
                    <p-inputSwitch onLabel="ativo" offLabel="inativo" (click)="selectCargo(tblColabCargo)" [(ngModel)]="tblColabCargo.ativo"></p-inputSwitch>
                </template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
    <p-tabPanel header="Cidade">
        <p-dataTable [value]="tblColabCidadeList">
            <header style="text-align:right">
                <button type="text" (click)="showDialogCidade()" pButton icon="fa-plus" label="Novo"></button>
            </header>
            <p-column field="sdccidade" header="Cidade"></p-column>
            <p-column field="nflativo" header="Status" styleClass="col-button">
                <template let-tblColabCidade="rowData" pTemplate type="body">
                    <p-inputSwitch onLabel="ativo" offLabel="inativo" (click)="selectCidade(tblColabCidade)" [(ngModel)]="tblColabCidade.ativo"></p-inputSwitch>
                </template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
    <p-tabPanel header="Entre Grupo">
        <p-dataTable [value]="tblColabEntreGrupoList">
            <header style="text-align:right">
                <button type="text" (click)="showDialogGrupo()" pButton icon="fa-plus" label="Novo"></button>
            </header>
            <p-column field="tblColabGrupo.sdcgrupo" header="Grupo"></p-column>
            <p-column field="sdcentregrupo" header="Entre Grupo"></p-column>
            <p-column field="nflativo" header="Status" styleClass="col-button">
                <template let-tblColabEntreGrupo="rowData" pTemplate type="body">
                    <p-inputSwitch onLabel="ativo" offLabel="inativo" (click)="selectEntreGrupo(tblColabEntreGrupo)" [(ngModel)]="tblColabEntreGrupo.ativo"></p-inputSwitch>
                </template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
    <p-tabPanel header="Estado">
        <p-dataTable [value]="tblColabEstadoList">
            <header style="text-align:right">
                <button type="text" (click)="showDialogEstado()" pButton icon="fa-plus" label="Novo"></button>
            </header>
            <p-column field="sdcestado" header="Estado"></p-column>
            <p-column field="nflativo" header="Status" styleClass="col-button">
                <template let-tblColabEstado="rowData" pTemplate type="body">
                    <p-inputSwitch onLabel="ativo" offLabel="inativo" (click)="selectEstado(tblColabEstado)" [(ngModel)]="tblColabEstado.ativo"></p-inputSwitch>
                </template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
    <p-tabPanel header="Grupo">
        <p-dataTable [value]="tblColabGrupoList">
            <header style="text-align:right">
                <button type="text" (click)="showDialogGrupo()" pButton icon="fa-plus" label="Novo"></button>
            </header>
            <p-column field="sdcgrupo" header="Grupo"></p-column>
            <p-column field="nflativo" header="Status" styleClass="col-button">
                <template let-tblColabGrupo="rowData" pTemplate type="body">
                    <p-inputSwitch onLabel="ativo" offLabel="inativo" (click)="selectGrupo(tblColabGrupo)" [(ngModel)]="tblColabGrupo.ativo"></p-inputSwitch>
                </template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
    <p-tabPanel header="Situação">
        <p-dataTable [value]="tblColabSituacaoList">
            <header style="text-align:right">
                <button type="text" (click)="showDialogSituacao()" pButton icon="fa-plus" label="Novo"></button>
            </header>
            <p-column field="sdcsituacao" header="Situação"></p-column>
            <p-column field="nflativo" header="Status" styleClass="col-button">
                <template let-tblColabSituacao="rowData" pTemplate type="body">
                    <p-inputSwitch onLabel="ativo" offLabel="inativo" (click)="selectSituacao(tblColabSituacao)" [(ngModel)]="tblColabSituacao.ativo"></p-inputSwitch>
                </template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
</p-tabView>

<p-dialog header="Novo Administrador" [(visible)]="displayAdmin" [resizable]=false [draggable]=false modal=true [width]=650>
    <form [formGroup]="userform" (ngSubmit)="onSubmitAdmin(userform.value)">
        <div class="ui-g">
            <div class="ui-g-4">Matrícula Completa</div>
            <div class="ui-g-4">
                <p-inputMask formControlName="matriculaInputMask" [(ngModel)]="matrCompl" mask="a9999999" (onComplete)="upper()" size=18></p-inputMask>
            </div>
            <div class="ui-g-4">
                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['matriculaInputMask'].valid&&userform.controls['matriculaInputMask'].dirty">
                    <span *ngIf="userform.controls['matriculaInputMask'].errors['required']">Obrigatório</span>
                </div>
            </div>
        </div>
        <div class="ui-g">
            <div class="ui-g-4"></div>
            <div class="ui-g-4"><button pButton type="submit" pButton icon="fa-save" label="Salvar" style="width:100%" [disabled]="!userform.valid"></button></div>
            <div class="ui-g-4"></div>
        </div>
    </form>
</p-dialog>

<p-dialog header="Novo Cargo" [(visible)]="displayCargo" [resizable]=false [draggable]=false modal=true [width]=650>
    <form [formGroup]="cargoForm" (ngSubmit)="onSubmitCargo(cargoForm.value)">
        <div class="ui-g">
            <div class="ui-g-4">Cargo</div>
            <div class="ui-g-4">
                <input type="text" pInputText formControlName="cargoInput" [(ngModel)]="cargo" size=18/>
            </div>
            <div class="ui-g-4">
                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!cargoForm.controls['cargoInput'].valid&&cargoForm.controls['cargoInput'].dirty">
                    <span *ngIf="cargoForm.controls['cargoInput'].errors['required']">Obrigatório</span>
                </div>
            </div>
        </div>
        <div class="ui-g">
            <div class="ui-g-4"></div>
            <div class="ui-g-4"><button pButton type="submit" pButton icon="fa-save" label="Salvar" style="width:100%" [disabled]="!cargoForm.valid"></button></div>
            <div class="ui-g-4"></div>
        </div>
    </form>
</p-dialog>

<p-dialog header="Novo Estado" [(visible)]="displayEstado" [resizable]=false [draggable]=false modal=true [width]=650>
    <form [formGroup]="estadoForm" (ngSubmit)="onSubmitEstado(estadoForm.value)">
        <div class="ui-g">
            <div class="ui-g-4">Estado</div>
            <div class="ui-g-4">
                <p-inputMask formControlName="estadoInput" [(ngModel)]="estado" mask="aa" (onComplete)="upperEstado()" size=18></p-inputMask>
            </div>
            <div class="ui-g-4">
                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!estadoForm.controls['estadoInput'].valid&&estadoForm.controls['estadoInput'].dirty">
                    <span *ngIf="estadoForm.controls['estadoInput'].errors['required']">Obrigatório</span>
                </div>
            </div>
        </div>
        <div class="ui-g">
            <div class="ui-g-4"></div>
            <div class="ui-g-4"><button pButton type="submit" pButton icon="fa-save" label="Salvar" style="width:100%" [disabled]="!estadoForm.valid"></button></div>
            <div class="ui-g-4"></div>
        </div>
    </form>
</p-dialog>

<p-dialog header="Novo Grupo" [(visible)]="displayGrupo" [resizable]=false [draggable]=false modal=true [width]=650>
    <form [formGroup]="grupoForm" (ngSubmit)="onSubmitGrupo(grupoForm.value)">
        <div class="ui-g">
            <div class="ui-g-4">Grupo</div>
            <div class="ui-g-4">
                <input type="text" pInputText formControlName="grupoInput" [(ngModel)]="grupo" size=18/>
            </div>
            <div class="ui-g-4">
                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!grupoForm.controls['grupoInput'].valid&&grupoForm.controls['grupoInput'].dirty">
                    <span *ngIf="grupoForm.controls['grupoInput'].errors['required']">Obrigatório</span>
                </div>
            </div>
        </div>
        <div class="ui-g">
            <div class="ui-g-4"></div>
            <div class="ui-g-4"><button pButton type="submit" pButton icon="fa-save" label="Salvar" style="width:100%" [disabled]="!grupoForm.valid"></button></div>
            <div class="ui-g-4"></div>
        </div>
    </form>
</p-dialog>