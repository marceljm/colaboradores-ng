<p-growl [value]="msgs"></p-growl>

<p-tabView orientation="left">
    <p-tabPanel header="Administrador">
        <p-dataTable [value]="tblColabAdminList">
            <header style="text-align:right">
                <button type="text" (click)="showDialog()" pButton icon="fa-plus" label="Novo"></button>
            </header>
            <p-column field="snomatrcompl" header="Matrícula"></p-column>
            <p-column field="nflativo" header="Status" styleClass="col-button">
                <template let-tblColabAdmin="rowData" pTemplate type="body">
                    <p-inputSwitch onLabel="ativo" offLabel="inativo" (click)="selectAdmin(tblColabAdmin)" [(ngModel)]="tblColabAdmin.nflativo"></p-inputSwitch>
                </template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
    <p-tabPanel header="Cargo">
        <p-dataTable [value]="tblColabCargoList">
            <header style="text-align:right">
                <button type="text" (click)="showDialog()" pButton icon="fa-plus" label="Novo"></button>
            </header>
            <p-column field="sdccargo" header="Cargo"></p-column>
            <p-column field="nflativo" header="Status" styleClass="col-button">
                <template let-tblColabCargo="rowData" pTemplate type="body">
                    <p-inputSwitch onLabel="ativo" offLabel="inativo" (click)="selectCargo(tblColabCargo)" [(ngModel)]="tblColabCargo.nflativo"></p-inputSwitch>
                </template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
    <p-tabPanel header="Cidade">
        <p-dataTable [value]="tblColabCidadeList">
            <header style="text-align:right">
                <button type="text" (click)="showDialog()" pButton icon="fa-plus" label="Novo"></button>
            </header>
            <p-column field="sdccidade" header="Cidade"></p-column>
            <p-column field="nflativo" header="Status" styleClass="col-button">
                <template let-tblColabCidade="rowData" pTemplate type="body">
                    <p-inputSwitch onLabel="ativo" offLabel="inativo" (click)="selectCidade(tblColabCidade)" [(ngModel)]="tblColabCidade.nflativo"></p-inputSwitch>
                </template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
    <p-tabPanel header="Entre Grupo">
        <p-dataTable [value]="tblColabEntreGrupoList">
            <header style="text-align:right">
                <button type="text" (click)="showDialog()" pButton icon="fa-plus" label="Novo"></button>
            </header>
            <p-column field="tblColabGrupo.sdcgrupo" header="Grupo"></p-column>
            <p-column field="sdcentregrupo" header="Entre Grupo"></p-column>
            <p-column field="nflativo" header="Status" styleClass="col-button">
                <template let-tblColabEntreGrupo="rowData" pTemplate type="body">
                    <p-inputSwitch onLabel="ativo" offLabel="inativo" (click)="selectEntreGrupo(tblColabEntreGrupo)" [(ngModel)]="tblColabEntreGrupo.nflativo"></p-inputSwitch>
                </template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
    <p-tabPanel header="Estado">
        <p-dataTable [value]="tblColabEstadoList">
            <header style="text-align:right">
                <button type="text" (click)="showDialog()" pButton icon="fa-plus" label="Novo"></button>
            </header>
            <p-column field="sdcestado" header="Estado"></p-column>
            <p-column field="nflativo" header="Status" styleClass="col-button">
                <template let-tblColabEstado="rowData" pTemplate type="body">
                    <p-inputSwitch onLabel="ativo" offLabel="inativo" (click)="selectEstado(tblColabEstado)" [(ngModel)]="tblColabEstado.nflativo"></p-inputSwitch>
                </template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
    <p-tabPanel header="Grupo">
        <p-dataTable [value]="tblColabGrupoList">
            <header style="text-align:right">
                <button type="text" (click)="showDialog()" pButton icon="fa-plus" label="Novo"></button>
            </header>
            <p-column field="sdcgrupo" header="Grupo"></p-column>
            <p-column field="nflativo" header="Status" styleClass="col-button">
                <template let-tblColabGrupo="rowData" pTemplate type="body">
                    <p-inputSwitch onLabel="ativo" offLabel="inativo" (click)="selectGrupo(tblColabGrupo)" [(ngModel)]="tblColabGrupo.nflativo"></p-inputSwitch>
                </template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
    <p-tabPanel header="Situação">
        <p-dataTable [value]="tblColabSituacaoList">
            <header style="text-align:right">
                <button type="text" (click)="showDialog()" pButton icon="fa-plus" label="Novo"></button>
            </header>
            <p-column field="sdcsituacao" header="Situação"></p-column>
            <p-column field="nflativo" header="Status" styleClass="col-button">
                <template let-tblColabSituacao="rowData" pTemplate type="body">
                    <p-inputSwitch onLabel="ativo" offLabel="inativo" (click)="selectSituacao(tblColabSituacao)" [(ngModel)]="tblColabSituacao.nflativo"></p-inputSwitch>
                </template>
            </p-column>
        </p-dataTable>
    </p-tabPanel>
</p-tabView>

<p-dialog header="Novo Administrador" [(visible)]="display" [resizable]=false [draggable]=false modal=true [width]=650>
    <form [formGroup]="userform" (ngSubmit)="onSubmit(userform.value)">
        <div class="ui-g">
            <div class="ui-g-4">Matrícula Completa</div>
            <div class="ui-g-4">
                <p-inputMask formControlName="matriculaCompleta" [(ngModel)]="matrCompl" mask="a9999999" (onComplete)="upper()"></p-inputMask>
            </div>
            <div class="ui-g-4">
                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['matriculaCompleta'].valid&&userform.controls['matriculaCompleta'].dirty">
                    <span *ngIf="userform.controls['matriculaCompleta'].errors['required']">Obrigatório</span>
                </div>
            </div>
        </div>
        <div class="ui-g">
            <div class="ui-g-4"></div>
            <div class="ui-g-4"><button pButton type="submit" pButton icon="fa-save" label="Salvar" style="width:100%" [disabled]="!userform.valid"></button></div>
            <div class="ui-g-4"></div>
        </div>
    </form>
</p-dialog>